{"ast":null,"code":"var _jsxFileName = \"/Users/matt/projects/ship-crew/dist/client/src/pages/Home.jsx\";\n\n/* eslint-disable no-underscore-dangle */\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Navbar from '../components/Navbar';\nimport ProfileCard from '../components/ProfileCard';\nimport { getAllPosts, clearErrors } from '../redux/actions/dataActions';\nimport { fetchNotifications } from '../redux/actions/userActions';\nimport Post from '../components/Post';\nimport Modal from '../components/Modal';\nimport '../styles/Home/homeStyles.scss';\n\nfunction Home(props) {\n  useEffect(() => {\n    props.getAllPosts();\n  }, [props.refreshQue]);\n  useEffect(() => {\n    props.fetchNotifications(props.userInfo.username);\n  }, [props.userInfo.username]);\n\n  const handleFlashClose = () => {\n    props.clearErrors();\n  };\n\n  return React.createElement(\"div\", {\n    id: \"home-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, props.modalActive === true ? React.createElement(Modal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }) : null, React.createElement(\"div\", {\n    id: \"home-page__blurWrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    match: props.match,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: \"home-page__body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, props.errors.length > 0 ? props.errors.map((err, i) => React.createElement(\"div\", {\n    key: i,\n    onClick: handleFlashClose,\n    id: \"home__flashMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, err), React.createElement(\"i\", {\n    id: \"fashMessage__close\",\n    className: \"fa fa-times-circle-o\",\n    \"aria-hidden\": \"true\",\n    onClick: handleFlashClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }))) : null, React.createElement(\"div\", {\n    id: \"body__posts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"body__posts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, !props.loading ? props.posts // TODO this is calling every refresh and flipping the order\n  .map((post, i) => React.createElement(Post, {\n    key: i,\n    post: post,\n    username: post.username,\n    body: post.body,\n    createdAt: post.createdAt,\n    likes: post.likeCount,\n    comments: post.commentCount,\n    id: post._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })) : React.createElement(\"h5\", {\n    id: \"body__loading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Loading posts....\"))), React.createElement(\"div\", {\n    id: \"body__profile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(ProfileCard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.UI.loading,\n    userInfo: state.user,\n    posts: state.data.allPosts,\n    refreshQue: state.UI.refreshQue,\n    modalActive: state.UI.modalActive\n  };\n};\n\nconst mapActionsToProps = {\n  getAllPosts,\n  fetchNotifications,\n  clearErrors\n};\nexport default connect(mapStateToProps, mapActionsToProps)(Home);","map":{"version":3,"sources":["/Users/matt/projects/ship-crew/dist/client/src/pages/Home.jsx"],"names":["React","useEffect","connect","Navbar","ProfileCard","getAllPosts","clearErrors","fetchNotifications","Post","Modal","Home","props","refreshQue","userInfo","username","handleFlashClose","modalActive","match","errors","length","map","err","i","loading","posts","post","body","createdAt","likeCount","commentCount","_id","mapStateToProps","state","UI","user","data","allPosts","mapActionsToProps"],"mappings":"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","sourcesContent":["/* eslint-disable no-underscore-dangle */\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Navbar from '../components/Navbar';\nimport ProfileCard from '../components/ProfileCard';\n\nimport { getAllPosts, clearErrors } from '../redux/actions/dataActions';\nimport { fetchNotifications } from '../redux/actions/userActions';\n\nimport Post from '../components/Post';\nimport Modal from '../components/Modal';\nimport '../styles/Home/homeStyles.scss';\n\nfunction Home(props) {\n  useEffect(() => {\n    props.getAllPosts();\n  }, [props.refreshQue]);\n\n  useEffect(() => {\n    props.fetchNotifications(props.userInfo.username);\n  }, [props.userInfo.username]);\n\n  const handleFlashClose = () => {\n    props.clearErrors();\n  };\n\n  return (\n    <div id=\"home-page\">\n      {props.modalActive === true ? <Modal /> : null}\n      <div id=\"home-page__blurWrapper\">\n        <Navbar match={props.match} />\n        <div id=\"home-page__body\">\n          {/* // -  Error flash messages  */}\n          {props.errors.length > 0\n            ? props.errors.map((err, i) => (\n                <div key={i} onClick={handleFlashClose} id=\"home__flashMessage\">\n                  <h3>{err}</h3>\n                  <i\n                    id=\"fashMessage__close\"\n                    className=\"fa fa-times-circle-o\"\n                    aria-hidden=\"true\"\n                    onClick={handleFlashClose}\n                  />\n                </div>\n              ))\n            : null}\n          <div id=\"body__posts\">\n            <div id=\"body__posts\">\n              {!props.loading ? (\n                props.posts\n                // TODO this is calling every refresh and flipping the order\n                  .map((post, i) => (\n                    <Post\n                      key={i}\n                      post={post}\n                      username={post.username}\n                      body={post.body}\n                      createdAt={post.createdAt}\n                      likes={post.likeCount}\n                      comments={post.commentCount}\n                      id={post._id}\n                    />\n                  ))\n              ) : (\n                <h5 id=\"body__loading\" >Loading posts....</h5>\n              )}\n            </div>\n          </div>\n          <div id=\"body__profile\">\n            <ProfileCard />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.UI.loading,\n    userInfo: state.user,\n    posts: state.data.allPosts,\n    refreshQue: state.UI.refreshQue,\n    modalActive: state.UI.modalActive\n  };\n};\n\nconst mapActionsToProps = {\n  getAllPosts,\n  fetchNotifications,\n  clearErrors\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(Home);\n"]},"metadata":{},"sourceType":"module"}